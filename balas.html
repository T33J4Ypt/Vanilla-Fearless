<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Balas, Coletes e Attachs</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Balas, Coletes e Attachs</h1>
  <!-- Botão para voltar ao index -->
  <a href="index.html" style="color: #ffff99; text-decoration: underline;">← Voltar à Calculadora Vanilla</a>

  <!-- Botão para ir para armas -->
  <div style="margin-top: 20px;">
    <a href="armas.html" style="color: #ffff99; font-weight: bold; text-decoration: underline;">
      Ver Tabela de Armas →
    </a>
  </div>

  <!-- Tipo de Parceria -->
  <label style="display:block; margin: 20px 0;">
    Tipo de Parceria:
    <select id="parceria">
      <option value="min">Com Parceria</option>
      <option value="max">Sem Parceria</option>
    </select>
  </label>

  <!-- Tabela Coletes -->
  <h2>Coletes</h2>
  <table>
    <thead>
      <tr><th>Item</th><th>Quantidade</th></tr>
    </thead>
    <tbody id="coletes-tabela">
      <tr><td>Coletes</td><td><input type="number" min="0" value="0" data-min="20000" data-max="25000"></td></tr>
    </tbody>
  </table>

  <!-- Tabela Balas -->
  <h2>Balas</h2>
  <table>
    <thead>
      <tr><th>Item</th><th>Quantidade</th></tr>
    </thead>
    <tbody id="balas-tabela">
      <tr><td>9mm</td><td><input type="number" min="0" value="0" data-min="5500" data-max="7000"></td></tr>
      <tr><td>5.56</td><td><input type="number" min="0" value="0" data-min="6000" data-max="7500"></td></tr>
      <tr><td>Cartuxo</td><td><input type="number" min="0" value="0" data-min="6500" data-max="8000"></td></tr>
      <tr><td>7.62</td><td><input type="number" min="0" value="0" data-min="7000" data-max="8500"></td></tr>
    </tbody>
  </table>

  <!-- Tabela Attachs -->
  <h2>Attachs</h2>
  <table>
    <thead>
      <tr><th>Item</th><th>Quantidade</th></tr>
    </thead>
    <tbody id="attachs-tabela">
      <tr><td>Carregador Ext</td><td><input type="number" min="0" value="0" data-min="4000" data-max="5500"></td></tr>
      <tr><td>Grip</td><td><input type="number" min="0" value="0" data-min="4000" data-max="5500"></td></tr>
      <tr><td>Silenciador</td><td><input type="number" min="0" value="0" data-min="4000" data-max="5500"></td></tr>
      <tr><td>Lanterna</td><td><input type="number" min="0" value="0" data-min="3500" data-max="5000"></td></tr>
    </tbody>
  </table>

  <button onclick="calcular()">Calcular Total</button>

  <div id="total" style="margin-top: 20px; font-weight: bold; font-size: 1.3rem; color: #ffffcc;"></div>

  <script>
    function calcular() {
      const parceria = document.getElementById("parceria").value;
      let total = 0;

      // Função para somar valores da tabela passada
      function somarTabela(tbodyId) {
        const linhas = document.querySelectorAll(`#${tbodyId} tr`);
        linhas.forEach(linha => {
          const input = linha.querySelector("input");
          const qtd = Number(input.value);
          const preco = parceria === "min" ? Number(input.dataset.min) : Number(input.dataset.max);
          total += qtd * preco;
        });
      }

      somarTabela("coletes-tabela");
      somarTabela("balas-tabela");
      somarTabela("attachs-tabela");

      document.getElementById("total").textContent = "Total: €" + total.toLocaleString();
    }
  </script>
</body>
</html>
